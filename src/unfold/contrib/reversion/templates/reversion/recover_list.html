{% extends "admin/base_site.html" %}
{% load i18n l10n admin_urls %}


{% block breadcrumbs %}
    <div class="px-12">
        <div class="container mb-12 mx-auto -my-3">
            <ul class="flex">
                {% url 'admin:index' as link %}
                {% trans 'Home' as name %}
                {% include 'unfold/helpers/breadcrumb_item.html' with link=link name=name %}

                {% url 'admin:app_list' app_label=opts.app_label as link %}
                {% include 'unfold/helpers/breadcrumb_item.html' with link=link name=opts.app_config.verbose_name %}

                {% url opts|admin_urlname:'changelist' as link %}
                {% include 'unfold/helpers/breadcrumb_item.html' with link=link name=opts.verbose_name_plural|capfirst %}

                <li class="text-gray-500 text-xs dark:text-gray-400">
                    {% blocktrans with opts.verbose_name_plural|escape as name %}Recover deleted {{name}}{% endblocktrans %}
                </li>
            </ul>
        </div>
    </div>
{% endblock %}


{% block content %}
    <div id="content-main">
        <div class="aligned border border-gray-200 mb-8 rounded-md pt-3 px-3 shadow-sm dark:border-gray-800">
            <div>
                <label class="block font-medium mb-2 text-gray-900 text-sm dark:text-gray-200">{% blocktrans %}Choose a date from the list below to recover a deleted version of an object.{% endblocktrans %}</label>
            </div>
            <div class="module">
                {% if deleted %}
                    <table id="change-history" class="border-gray-200 border-spacing-none border-separate text-gray-700 w-full dark:text-gray-400 lg:border lg:rounded-md lg:shadow-sm lg:dark:border-gray-800">
                        <thead class="hidden lg:table-header-group">
                        <tr>
                            <th class="align-middle font-medium px-3 py-2 text-left text-gray-400 text-sm" scope="col">{% trans 'Date/time' %}</th>
                            <th class="align-middle font-medium px-3 py-2 text-left text-gray-400 text-sm" scope="col">{{opts.verbose_name|capfirst}}</th>
                        </tr>
                        </thead>
                        <tbody>
                            {% for deletion in deleted %}
                                <tr>
                                    <th class="align-middle flex border-t border-gray-200 font-normal px-3 py-2 text-left text-sm before:block before:capitalize before:content-[attr(data-label)] before:mr-auto before:text-gray-500 first:border-t-0 dark:before:text-gray-400 lg:before:hidden lg:first:border-t lg:py-3 lg:table-cell dark:border-gray-800" scope="row"><a href="{% url opts|admin_urlname:'recover' deletion.pk|unlocalize %}">{{deletion.revision.date_created}}</a></th>
                                    <td class="align-middle flex border-t border-gray-200 font-normal px-3 py-2 text-left text-sm before:block before:capitalize before:content-[attr(data-label)] before:mr-auto before:text-gray-500 first:border-t-0 dark:before:text-gray-400 lg:before:hidden lg:first:border-t lg:py-3 lg:table-cell dark:border-gray-800" >{{deletion.object_repr}}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                <div>
                    <label class="block font-medium mb-2 text-gray-900 text-sm dark:text-gray-200">{% trans "There are no deleted objects to recover." %}</label>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
